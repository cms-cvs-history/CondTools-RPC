process Write2DB = {

  service = MessageLogger {
     untracked vstring destinations = {"cout"}
     untracked PSet cout = 
     {
       untracked  PSet default = { untracked int32 limit = 0 }
     }
  }

  source = EmptyIOVSource {
    string timetype = "runnumber"
    untracked uint32 firstRun = 1
    untracked uint32 lastRun = 1
    uint32 interval = 1
  }

  include "CondCore/DBCommon/data/CondDBCommon.cfi"

# Select output destination:
## to write into sqlite file
  replace CondDBCommon.connect = "sqlite_file:RPCEMap.db"
#  replace CondDBCommon.DBParameters.authenticationPath="."
#
## to write into int2r_orcoff
#  replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_COND_RPC"
#  replace CondDBCommon.DBParameters.authenticationPath="."    
#
## to write into orcon
#  replace CondDBCommon.connect = "oracle://orcon/CMS_COND_ON_200_RPC"
#  replace CondDBCommon.DBParameters.authenticationPath="."

  service = PoolDBOutputService {
    using CondDBCommon
    VPSet toPut = {
      { string record = "RPCEMapRcd" string tag = "RPCEMap_v2"}
    }
    untracked string logconnect = "sqlite_file:RPCEMap_log.db"
  }

  module WriteInDB = RPCEMapDBWriter {
    string record = "RPCEMapRcd"
    untracked bool loggingOn = true
    bool SinceAppendMode = true
    PSet Source = {
      untracked int32 Validate = 0
      untracked string OnlineDBHost = "oracms.cern.ch"
      untracked string OnlineDBSID = "omds"
      untracked string OnlineDBUser = "RPC_CONFIGURATION"
      untracked string OnlineDBPass = "rpcconfconddb"
      untracked int32 OnlineDBPort = 10121
    }
  }

  path p = {WriteInDB}
}
