process ProcessOne = {
 service = MessageLogger {
    untracked vstring destinations = {"cout"}
    untracked PSet cout = {
          untracked  PSet default = { untracked int32 limit = 0 }
    }
 }

//Subproject specific modules
     source = EmptyIOVSource {
         string timetype = "runnumber"
         untracked uint32 firstRun = 1
         untracked uint32 lastRun = 1
         uint32 interval = 1
       }


//PopCon config
include "CondCore/DBCommon/data/CondDBCommon.cfi"
// eg to write the objects in sqlite

#replace CondDBCommon.connect = "sqlite_file:pop_test.db"

#replace CondDBCommon.connect ="oracle://orcon/CMS_COND_20X_PRESH"
#replace CondDBCommon.connect ="oracle://cms_orcon_prod/CMS_COND_20X_RPC"
replace CondDBCommon.connect ="oracle://cms_orcoff_int2r/CMS_COND_RPC"

#replace CondDBCommon.connect = "oracle://int2r/CMS_RPC_INTEGRATION"

#replace CondDBCommon.DBParameters.authenticationPath = "."
#replace CondDBCommon.DBParameters.authenticationPath = "/nfshome0/xiezhen/conddb/devowner/"
#replace CondDBCommon.DBParameters.authenticationPath = "/nfshome0/xiezhen/conddb/"
replace CondDBCommon.DBParameters.authenticationPath = "/afs/cern.ch/cms/DB/conddb"

replace CondDBCommon.DBParameters.messageLevel=1

// Database output service
    service = PoolDBOutputService{
	using CondDBCommon
        untracked string timetype="runnumber"
	VPSet toPut = { { string record = "RPCStripNoisesRcd" string tag = "RPCStripNoises_mc" } }
	untracked string logconnect = "sqlite_file:log.db"
#        untracked string logconnect = "oracle://int2r/CMS_RPC_INTEGRATION"

#        untracked string logconnect = "oracle://omds/CMS_POP_CON"
   }


//Common parameters to all subprojects
module Test1 = MyRPCDBPopConAnalyzer {
   string record = "RPCStripNoisesRcd"
   untracked bool loggingOn = True
   bool debug = false
   bool SinceAppendMode = true
   
   PSet Source ={
                 untracked int32 firstSince = 1
                 string tag = "RPCStripNoises_mc"    

                 FileInPath noisemapfile = "CondTools/RPC/data/RPCDetId_Noise.dat"
                 FileInPath effmapfile = "CondTools/RPC/data/RPCDetId_Eff.dat"
                 FileInPath timingMap  = "CondTools/RPC/data/RPCTiming.dat"
                 FileInPath clsmapfile = "CondTools/RPC/data/ClSizeTot.dat"
                
}

}

 path p = {
#demo,
Test1}
}
