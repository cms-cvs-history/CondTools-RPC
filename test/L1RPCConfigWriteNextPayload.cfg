process L1RPCConfigWriteNextPayload = {

#    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    untracked PSet maxEvents = { untracked int32 input = 1 }

    # source of IoVs
    source = EmptyIOVSource {
        string timetype = "runnumber"
        untracked uint32 firstRun = 2
        untracked uint32 lastRun = 2
        uint32 interval = 1
    }

    include "CondCore/DBCommon/data/CondDBCommon.cfi"
    es_source orcon = PoolDBESSource
    {
        using CondDBCommon
        VPSet toGet =
        {
            { string record = "L1TriggerKeyListRcd"
              string tag = "L1TriggerKeyList_CRUZET_hlt" },
            { string record = "L1TriggerKeyRcd"
              string tag = "L1TriggerKey_CRUZET_hlt" },
            { string record = "L1RPCConfigRcd"
              string type = "L1RPCConfig"
              string key = "DEFAULT"
              string tag = "RPCPatterns_ppt1" }
        }
    }
    replace orcon.connect = "sqlite_file:rpctconfig.db"
    replace orcon.DBParameters.authenticationPath = "."

# create a new dummy key
  es_module L1TriggerKeyDummy = L1TriggerKeyDummyProd
  {
        string tscKey = "dummy2"
        VPSet subsystemKeys = {
            {
            string record = "L1RPCConfigRcd"
            string type = "L1RPCConfig"
            string key = "COSMIC"
            string tag = "RPCPatterns_ppt1"
            }}
  }

# create a new configuration
  es_module rpcconf = RPCTriggerConfig {
    untracked int32 PACsPerTower = 1
    untracked string filedir = "L1Trigger/RPCTrigger/data/CosmicPats6/"
  }

    # writer modules
  module L1CondDBPayloadWriter = L1CondDBPayloadWriter
  {
        string offlineDB = "sqlite_file:rpctconfig.db"
        string offlineAuthentication = ""
        string L1TriggerKeyListTag = "L1TriggerKeyList_CRUZET_hlt"
  }

    path p = { L1CondDBPayloadWriter }

}
