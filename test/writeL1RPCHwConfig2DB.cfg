process Write2DB = {

  service = MessageLogger {
     untracked vstring destinations = {"cout"}
     untracked PSet cout = 
     {
       untracked  PSet default = { untracked int32 limit = 0 }
     }
  }

  source = EmptyIOVSource {
    string timetype = "runnumber"
    uint64 firstValue = 1
    uint64 lastValue = 1
    uint64 interval = 1
  }

  include "CondCore/DBCommon/data/CondDBCommon.cfi"

# Select output destination:
## to write into sqlite file
  replace CondDBCommon.connect = "sqlite_file:L1RPCHwConfig.db"
#  replace CondDBCommon.DBParameters.authenticationPath="."
#
## to write into int2r_orcoff
#  replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_COND_RPC"
#  replace CondDBCommon.DBParameters.authenticationPath="."    
#
## to write into orcon
#  replace CondDBCommon.connect = "oracle://orcon/CMS_COND_21X_RPC"
#  replace CondDBCommon.DBParameters.authenticationPath="."

  service = PoolDBOutputService {
    using CondDBCommon
    VPSet toPut = {
      { string record = "L1RPCHwConfigRcd" string tag = "L1RPCHwConfig_v1"}
    }
    untracked string logconnect = "sqlite_file:L1RPCHwConfig_log.db"
  }

  module WriteInDB = L1RPCHwConfigDBWriter {
    string record = "L1RPCHwConfigRcd"
    untracked bool loggingOn = true
    bool SinceAppendMode = true
    PSet Source = {
      untracked int32 Validate = 0
#      untracked string OnlineDBHost = "oracms.cern.ch"
#      untracked string OnlineDBSID = "omds"
#      untracked string OnlineDBUser = "RPC_CONFIGURATION"
#      untracked string OnlineDBPass = "rpcconfconddb"
#      untracked int32 OnlineDBPort = 10121
      untracked string OnlineConn = "oracle://cms_omds_lb/CMS_RPC_CONF"
      untracked string OnlienAuthPath = "."
    }
  }

  path p = {WriteInDB}
}
